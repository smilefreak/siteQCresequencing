{
    "contents" : "\n# This is the user-interface definition of a Shiny web application.\n# You can find out more about building applications with Shiny here:\n#\n# http://shiny.rstudio.com\n#\n\nlibrary(shiny)\nlibrary(ggvis)\n\n\n\nshinyUI(fluidPage(\n  \n  # Application title\n  titlePanel(\"Site QC Resquencing\"),\n  \n  # Sidebar with a slider input for number of bins\n  sidebarLayout(\n    sidebarPanel(\n      #   uiOutput(\"fileInput\"),\n      conditionalPanel(condition = \"input.conditionedPanels == 'QC Table'\"\n                       ,checkboxGroupInput('show_vars',\"Columns in Site QC table to show:\",\n                                           names(qc_table),selected=names(qc_table))\n      ),\n      conditionalPanel(condition =\"input.conditionedPanels == 'QC Plots Urate'\",\n                       numericInput(\"hwe_thresh\",label=\"HWE threshold for plots\",min=0,max=1,step=0.025,value=0.01),\n                       checkboxGroupInput(\"filters\",\"Filters to exclude: \", unique(as.character(qc_table$filter))),\n                      numericInput(\"gqm\",min=0,max=99,label=\"GQM -Min genotype Mean for Cases and Controls\",value=0),\n                      \n                       numericInput(\"max_prop_ref\",min=0,max=1,step=0.025,value=1,label=\"SAMPLE_REF_AB - Maximum mean proportion of alternate alleles in homozygous reference call\"),\n                       numericInput(\"min_prop_alt\",min=0,max=1,step=0.025,value=0,label=\"SAMPLE_HOM_AB - minimum mean proportion of alternate alleles in homozygous alternate call \"),\n                       numericInput(\"low_het_ab_prop\",min=0,max=0.5,step=0.025,value=0,\n                                    label=\"Min SAMPLE_HET_AB - Minimum mean AB ratio for case and control heterozygotes\"),\n                       numericInput(\"high_het_ab_prop\",min=0.5,max=1.0,step=0.025,value=1,\n                                    label=\"Max SAMPLE_HET_AB - Maximum mean AB ration for case and control heterozygotes\"),\n                       numericInput(\"prop_20_80\",label=\"PROP_DEVIANT_20_80 - Maximum proportion of a site with A/B ration between 0-0.2 and 0.8-1.0\",min=0,\n                                    max=1,step=0.025,value=1),\n                       numericInput(\"prop_30_70\",label=\"PROP_DEVIANT_30_70 - Maximum proportion of a site with A/B ratio between 0-0.3 and 0.7-1.0\",\n                                    min = 0, max=1,step=0.025, value =1),\n                       numericInput(\"mean_difference\",label=\"Maximum absolute value of the differences between casen difference\",\n                                    min = 0, max = 200, step = 1, value = 200),\n                       numericInput(\"number_samples_gq_10\",label=\"Maximum number of sites with genotype quality <= 10\",\n                                    min = 0,max=1000,step=1,value=0),\n                       downloadButton(\"downloadSites\",\"Download Final Sites\")\n      ),\n      \n      conditionalPanel(condition =\"input.conditionedPanels == 'All Site QC'\",\n                       numericInput(\"n_gqm\",min=0,max=99,label=\"Min genotype Mean\",value=0),\n                       numericInput(\"n_low_het_ab_prop\",min=0,max=0.5,step=0.025,value=0,\n                                    label=\"Minimum mean AB ratio for heterozygotes\"),\n                       numericInput(\"n_high_het_ab_prop\",min=0.5,max=1.0,step=0.025,value=1,\n                                    label=\"Maximum mean AB ration for heterozygotes\"),\n                       numericInput(\"n_prop_20_80\",label=\"Maximum proportion of a site with A/B ration between 0-0.2 and 0.8-1.0\",min=0,\n                                    max=1,step=0.025,value=1),\n                       numericInput(\"n_prop_30_70\",label=\"Maximum proportion of a site with A/B ratio between 0-0.3 and 0.7-1.0\",\n                                    min = 0, max=1,step=0.025, value =1)\n      )\n    ),\n    # Show a plot of the generated distribution\n    mainPanel(\n      tabsetPanel(\n        #  tabPanel(\"Load Data\", uiOutput(\"load_data\")),\n        tabPanel('QC Table', dataTableOutput(\"qc_table\")),\n        tabPanel('QC Plots Urate',\n                 tableOutput(\"variant_summary\"),\n                 tableOutput(\"ts_tv_table\"),\n                 tableOutput(\"singleton_table\"),\n                 h4(\"Percentarge of sites passing HWE >= 0.01 filter\"),\n                 tableOutput('hwe_table'),\n                 fluidRow(\n                   column(6,\n                          plotOutput('hwe_cases_plot')),\n                   column(6,\n                          plotOutput('hwe_controls_plot'))),\n                 plotOutput(\"allelic_balance_controls\"),\n                 plotOutput(\"allelic_balance_cases\"),\n                 plotOutput(\"overall_allelic_balance\"),\n                 plotOutput('qqplot'),\n                 h4(\"Linear model containing predictors for the pvalues\"),\n                 tableOutput('linear_model')\n        ),\n        \n        tabPanel('All Site QC',\n                 tableOutput(\"variant_summary2\"),\n                 tableOutput(\"ts_tv_table2\"),\n                 plotOutput(\"hwe_plot\")),\n        id=\"conditionedPanels\")\n    )\n  )\n)\n)\n\n",
    "created" : 1422483669817.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "355518017",
    "id" : "DCDD0AD2",
    "lastKnownWriteTime" : 1426645533,
    "path" : "~/resequencing/siteqc/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}